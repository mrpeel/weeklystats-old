function showLoadingBar(){document.getElementById("load-bar").className="loader"}function hideLoadingBar(){document.getElementById("load-bar").className="loader-hidden"}function renderCharts(e,t,r){return showLoadingBar(),renderWeekOverWeekSessions(e,t,r).then(function(){return renderYearOverYearSessions(e,t,r)}).then(function(){return renderWeekOverWeekSessionDuration(e,t,r)}).then(function(){return renderYearOverYearSessionDuration(e,t,r)}).then(function(){return renderWeekContentUsage(e,t,r)}).then(function(a){return renderQuarterlyContentUsage(e,t,r,a)}).then(function(){return renderWeekBrowserUsage(e,t,r)}).then(function(a){return renderQuarterlyBrowserUsage(e,t,r,a)}).then(function(){return renderWeekIEUsage(e,t,r)}).then(function(a){return renderQuarterlyIEUsage(e,t,r,a)}).then(function(){return renderWeekFirefoxUsage(e,t,r)}).then(function(a){return renderQuarterlyFirefoxUsage(e,t,r,a)}).then(function(){return renderEventCharts(e,t,r)}).then(function(){hideLoadingBar()}).catch(function(e){console.log(e.message),hideLoadingBar()})}function renderWeekOverWeekSessions(e,t,r){var a=new WeekToPreviousWeekChart(e,t,r);return a.gaLastYearDimensions="ga:dayOfWeek,ga:year,ga:nthWeek",a.gaDimensions="ga:date,ga:nthDay",a.gaMetrics="ga:sessions",a.gaFilters="ga:sessions>0",a.gaSort="ga:dayOfWeek,-ga:sessions",a.retrieveGAData().then(function(){return a.setUpChartData(),a.createLineChart("weekly-session-chart-container","weekly-session-legend-container"),a.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderYearOverYearSessions(e,t,r){var a=new YearToPreviousYearChart(e,t,r);return a.gaDimensions="ga:month,ga:nthMonth",a.gaMetrics="ga:sessions",a.retrieveGAData().then(function(){return a.setUpChartData(),a.createBarChart("monthly-session-chart-container","monthly-session-legend-container"),a.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekOverWeekSessionDuration(e,t,r){var a=new WeekToPreviousWeekChart(e,t,r);return a.gaDimensions="ga:date,ga:nthDay",a.gaLastYearDimensions="ga:dayOfWeek,ga:year,ga:nthWeek",a.gaMetrics="ga:avgSessionDuration",a.gaFilters="ga:avgSessionDuration>0",a.gaSort="ga:dayOfWeek,-ga:avgSessionDuration",a.retrieveGAData().then(function(){var t=[];return a.lastYearData.forEach(function(e){t.push((e/60).toFixed(2))}),a.lastYearData=t,t=[],a.previousWeekData.forEach(function(e){t.push((e/60).toFixed(2))}),a.previousWeekData=t,t=[],a.currentWeekData.forEach(function(e){t.push((e/60).toFixed(2))}),a.currentWeekData=t,!0}).then(function(){return a.setUpChartData(),a.createLineChart("weekly-session-duration-chart-container","weekly-session-duration-legend-container"),a.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderYearOverYearSessionDuration(e,t,r){var a=new YearToPreviousYearChart(e,t,r);return a.gaDimensions="ga:month,ga:nthMonth",a.gaMetrics="ga:avgSessionDuration",a.retrieveGAData().then(function(){var t=[];return a.currentYearData.forEach(function(e){t.push((e/60).toFixed(2))}),a.currentYearData=t,t=[],a.previousYearData.forEach(function(e){t.push((e/60).toFixed(2))}),a.previousYearData=t,!0}).then(function(){return a.setUpChartData(),a.createBarChart("monthly-session-duration-chart-container","monthly-session-duration-legend-container"),a.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekContentUsage(e,t,r){var a=new WeekDoughnutChart(e,t,r);return a.gaDimensions="ga:pageTitle",a.gaMetrics="ga:pageviews",a.gaFilters="ga:pageTitle!=Redirect;ga:pageviews>10",a.gaSort="-ga:pageviews",a.retrieveAndSetUpGAData().then(function(){return a.createDoughnutChart("weekly-content-chart-container","weekly-content-legend-container"),a.delayExecution()}).then(function(){return a.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyContentUsage(e,t,r,a){var n=new QuarterlyChart(e,t,r,"pageTitle",a);return n.gaDimensions="ga:pageTitle",n.gaMetrics="ga:pageviews",n.gaFilters="ga:pageTitle!=Redirect;ga:pageviews>10",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-content-chart-container","quarterly-content-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekBrowserUsage(e,t,r){var a=new WeekDoughnutChart(e,t,r);return a.gaDimensions="ga:browser",a.gaMetrics="ga:pageviews",a.gaSort="-ga:pageviews",a.retrieveAndSetUpGAData().then(function(){return a.createDoughnutChart("weekly-browser-chart-container","weekly-browser-legend-container"),a.delayExecution()}).then(function(){return a.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyBrowserUsage(e,t,r,a){var n=new QuarterlyChart(e,t,r,"browser",a);return n.gaDimensions="ga:browser",n.gaMetrics="ga:pageviews",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-browser-chart-container","quarterly-browser-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekIEUsage(e,t,r){var a=new WeekDoughnutChart(e,t,r);return a.gaDimensions="ga:browserVersion",a.gaMetrics="ga:pageviews",a.gaFilters="ga:browser==Internet Explorer",a.gaSort="-ga:pageviews",a.retrieveAndSetUpGAData().then(function(){return a.createDoughnutChart("weekly-ieversion-chart-container","weekly-ieversion-legend-container"),a.delayExecution()}).then(function(){return a.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyIEUsage(e,t,r,a){var n=new QuarterlyChart(e,t,r,"browserVersion",a);return n.gaDimensions="ga:browserVersion",n.gaMetrics="ga:pageviews",n.gaFilters="ga:browser==Internet Explorer",n.queryPrefix="ga:browser==Internet Explorer;",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-ieversion-chart-container","quarterly-ieversion-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekFirefoxUsage(e,t,r){var a=new WeekDoughnutChart(e,t,r);return a.gaDimensions="ga:browserVersion",a.gaMetrics="ga:pageviews",a.gaFilters="ga:browser==Firefox",a.gaSort="-ga:pageviews",a.retrieveAndSetUpGAData().then(function(){return a.createDoughnutChart("weekly-firefoxversion-chart-container","weekly-firefoxversion-legend-container"),a.delayExecution()}).then(function(){return a.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyFirefoxUsage(e,t,r,a){var n=new QuarterlyChart(e,t,r,"browserVersion",a);return n.gaDimensions="ga:browserVersion",n.gaMetrics="ga:pageviews",n.gaFilters="ga:browser==Firefox",n.queryPrefix="ga:browser==Firefox;",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-firefoxversion-chart-container","quarterly-firefoxversion-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderEventCharts(e,t,r){showLoadingBar();var a=new ActivityData(e,t,r,"Current"),n=new ActivityData(e,t,r,"Previous"),o=new ActivityData(e,t,r,"Year");return a.gaDimensions="ga:eventCategory,ga:eventLabel",a.gaMetrics="ga:totalEvents",n.gaDimensions="ga:eventCategory,ga:eventLabel",n.gaMetrics="ga:totalEvents",o.gaDimensions="ga:eventCategory,ga:eventLabel",o.gaMetrics="ga:totalEvents",a.retrieveAndParseGAData().then(function(){return a.prepareChartData(a.overallActivityData),a.createDoughnutChart("overall-activity-current-week-chart-container","overall-activity-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.overallSearchBreakdownData),a.createDoughnutChart("overall-search-current-week-chart-container","overall-search-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationActivityData["LASSI General"]||[]),a.createDoughnutChart("lassi-activity-current-week-chart-container","lassi-activity-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationSearchBreakdownData["LASSI General"]||[]),a.createDoughnutChart("lassi-search-current-week-chart-container","lassi-search-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationActivityData["LASSI SPEAR Including Map Based Search"]||[]),a.createDoughnutChart("spear-activity-current-week-chart-container","spear-activity-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationSearchBreakdownData["LASSI SPEAR Including Map Based Search"]||[]),a.createDoughnutChart("spear-search-current-week-chart-container","spear-search-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationActivityData.SMES||[]),a.createDoughnutChart("smes-activity-current-week-chart-container","smes-activity-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationSearchBreakdownData.SMES||[]),a.createDoughnutChart("smes-search-current-week-chart-container","smes-search-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationActivityData.VICNAMES||[]),a.createDoughnutChart("vicnames-activity-current-week-chart-container","vicnames-activity-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationSearchBreakdownData.VICNAMES||[]),a.createDoughnutChart("vicnames-search-current-week-chart-container","vicnames-search-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationActivityData["View My Titles"]||[]),a.createDoughnutChart("vmt-activity-current-week-chart-container","vmt-activity-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationSearchBreakdownData["View My Titles"]||[]),a.createDoughnutChart("vmt-search-current-week-chart-container","vmt-search-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationActivityData["Historical Aerial Photographs"]||[]),a.createDoughnutChart("hap-activity-current-week-chart-container","hap-activity-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationSearchBreakdownData["Historical Aerial Photographs"]||[]),a.createDoughnutChart("hap-search-current-week-chart-container","hap-search-current-week-legend-container"),a.delayExecution()}).then(function(){return a.prepareChartData(a.applicationActivityData["TPI Confirm on Map"]||[]),a.createDoughnutChart("tcom-activity-current-week-chart-container","tcom-activity-current-week-legend-container"),a.delayExecution()}).then(function(){return n.retrieveAndParseGAData()}).then(function(){return n.prepareChartData(n.overallActivityData),n.createDoughnutChart("overall-activity-previous-week-chart-container","overall-activity-previous-week-legend-container"),n.delayExecution()}).then(function(){return n.prepareChartData(n.overallSearchBreakdownData),n.createDoughnutChart("overall-search-previous-week-chart-container","overall-search-previous-week-legend-container"),n.delayExecution()}).then(function(){return o.retrieveAndParseGAData()}).then(function(){return o.prepareChartData(o.overallActivityData),o.createDoughnutChart("overall-activity-last-year-chart-container","overall-activity-last-year-legend-container"),n.delayExecution()}).then(function(){return o.prepareChartData(o.overallSearchBreakdownData),o.createDoughnutChart("overall-search-last-year-chart-container","overall-search-last-year-legend-container"),o.delayExecution()}).then(function(){hideLoadingBar()}).catch(function(e){console.log(e.message),hideLoadingBar()})}