function showLoadingBar(){document.getElementById("load-bar").className="loader"}function hideLoadingBar(){document.getElementById("load-bar").className="loader-hidden"}function renderCharts(e,t,a){return showLoadingBar(),renderWeekOverWeekSessions(e,t,a).then(function(){return renderYearOverYearSessions(e,t,a)}).then(function(){return renderWeekOverWeekSessionDuration(e,t,a)}).then(function(){return renderYearOverYearSessionDuration(e,t,a)}).then(function(){return renderWeekContentUsage(e,t,a)}).then(function(r){return renderQuarterlyContentUsage(e,t,a,r)}).then(function(){return renderWeekBrowserUsage(e,t,a)}).then(function(r){return renderQuarterlyBrowserUsage(e,t,a,r)}).then(function(){return renderWeekIEUsage(e,t,a)}).then(function(r){return renderQuarterlyIEUsage(e,t,a,r)}).then(function(){return renderWeekFirefoxUsage(e,t,a)}).then(function(r){return renderQuarterlyFirefoxUsage(e,t,a,r)}).then(function(){return renderEventCharts(e,t,a)}).then(function(){hideLoadingBar()}).catch(function(e){console.log(e.message),hideLoadingBar()})}function renderWeekOverWeekSessions(e,t,a){var r=new WeekToPreviousWeekChart(e,t,a);return r.gaLastYearDimensions="ga:dayOfWeek,ga:year,ga:nthWeek",r.gaDimensions="ga:date,ga:nthDay",r.gaMetrics="ga:sessions",r.gaFilters="ga:sessions>0",r.gaSort="ga:dayOfWeek,-ga:sessions",r.retrieveGAData().then(function(){return r.setUpChartData(),r.createLineChart("weekly-session-chart-container","weekly-session-legend-container"),r.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderYearOverYearSessions(e,t,a){var r=new YearToPreviousYearChart(e,t,a);return r.gaDimensions="ga:month,ga:nthMonth",r.gaMetrics="ga:sessions",r.retrieveGAData().then(function(){return r.setUpChartData(),r.createBarChart("monthly-session-chart-container","monthly-session-legend-container"),r.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekOverWeekSessionDuration(e,t,a){var r=new WeekToPreviousWeekChart(e,t,a);return r.gaDimensions="ga:date,ga:nthDay",r.gaLastYearDimensions="ga:dayOfWeek,ga:year,ga:nthWeek",r.gaMetrics="ga:avgSessionDuration",r.gaFilters="ga:avgSessionDuration>0",r.gaSort="ga:dayOfWeek,-ga:avgSessionDuration",r.retrieveGAData().then(function(){var t=[];return r.lastYearData.forEach(function(e){t.push((e/60).toFixed(2))}),r.lastYearData=t,t=[],r.previousWeekData.forEach(function(e){t.push((e/60).toFixed(2))}),r.previousWeekData=t,t=[],r.currentWeekData.forEach(function(e){t.push((e/60).toFixed(2))}),r.currentWeekData=t,!0}).then(function(){return r.setUpChartData(),r.createLineChart("weekly-session-duration-chart-container","weekly-session-duration-legend-container"),r.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderYearOverYearSessionDuration(e,t,a){var r=new YearToPreviousYearChart(e,t,a);return r.gaDimensions="ga:month,ga:nthMonth",r.gaMetrics="ga:avgSessionDuration",r.retrieveGAData().then(function(){var t=[];return r.currentYearData.forEach(function(e){t.push((e/60).toFixed(2))}),r.currentYearData=t,t=[],r.previousYearData.forEach(function(e){t.push((e/60).toFixed(2))}),r.previousYearData=t,!0}).then(function(){return r.setUpChartData(),r.createBarChart("monthly-session-duration-chart-container","monthly-session-duration-legend-container"),r.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekContentUsage(e,t,a){var r=new WeekDoughnutChart(e,t,a);return r.gaDimensions="ga:pageTitle",r.gaMetrics="ga:pageviews",r.gaFilters="ga:pageTitle!=Redirect;ga:pageviews>10",r.gaSort="-ga:pageviews",r.retrieveAndSetUpGAData().then(function(){return r.createDoughnutChart("weekly-content-chart-container","weekly-content-legend-container"),r.delayExecution()}).then(function(){return r.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyContentUsage(e,t,a,r){var n=new QuarterlyChart(e,t,a,"pageTitle",r);return n.gaDimensions="ga:pageTitle",n.gaMetrics="ga:pageviews",n.gaFilters="ga:pageTitle!=Redirect;ga:pageviews>10",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-content-chart-container","quarterly-content-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekBrowserUsage(e,t,a){var r=new WeekDoughnutChart(e,t,a);return r.gaDimensions="ga:browser",r.gaMetrics="ga:pageviews",r.gaSort="-ga:pageviews",r.retrieveAndSetUpGAData().then(function(){return r.createDoughnutChart("weekly-browser-chart-container","weekly-browser-legend-container"),r.delayExecution()}).then(function(){return r.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyBrowserUsage(e,t,a,r){var n=new QuarterlyChart(e,t,a,"browser",r);return n.gaDimensions="ga:browser",n.gaMetrics="ga:pageviews",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-browser-chart-container","quarterly-browser-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekIEUsage(e,t,a){var r=new WeekDoughnutChart(e,t,a);return r.gaDimensions="ga:browserVersion",r.gaMetrics="ga:pageviews",r.gaFilters="ga:browser==Internet Explorer",r.gaSort="-ga:pageviews",r.retrieveAndSetUpGAData().then(function(){return r.createDoughnutChart("weekly-ieversion-chart-container","weekly-ieversion-legend-container"),r.delayExecution()}).then(function(){return r.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyIEUsage(e,t,a,r){var n=new QuarterlyChart(e,t,a,"browserVersion",r);return n.gaDimensions="ga:browserVersion",n.gaMetrics="ga:pageviews",n.gaFilters="ga:browser==Internet Explorer",n.queryPrefix="ga:browser==Internet Explorer;",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-ieversion-chart-container","quarterly-ieversion-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekFirefoxUsage(e,t,a){var r=new WeekDoughnutChart(e,t,a);return r.gaDimensions="ga:browserVersion",r.gaMetrics="ga:pageviews",r.gaFilters="ga:browser==Firefox",r.gaSort="-ga:pageviews",r.retrieveAndSetUpGAData().then(function(){return r.createDoughnutChart("weekly-firefoxversion-chart-container","weekly-firefoxversion-legend-container"),r.delayExecution()}).then(function(){return r.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyFirefoxUsage(e,t,a,r){var n=new QuarterlyChart(e,t,a,"browserVersion",r);return n.gaDimensions="ga:browserVersion",n.gaMetrics="ga:pageviews",n.gaFilters="ga:browser==Firefox",n.queryPrefix="ga:browser==Firefox;",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-firefoxversion-chart-container","quarterly-firefoxversion-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderEventCharts(e,t,a){showLoadingBar();var r=new ActivityData(e,t,a);return r.gaDimensions="ga:eventCategory,ga:eventLabel",r.gaMetrics="ga:totalEvents",r.retrieveAndParseGAData().then(function(){r.prepareDoughnutChartData(r.overallActivityData.Current),r.createDoughnutChart("overall-activity-current-week-chart-container","overall-activity-current-week-legend-container"),r.prepareDoughnutChartData(r.overallSearchBreakdownData.Current),r.createDoughnutChart("overall-search-current-week-chart-container","overall-search-current-week-legend-container"),r.prepareBarChartData(r.overallActivityData.Current,r.overallActivityData.Previous,r.overallActivityData.Year),r.createBarChart("overall-activity-history-chart-container","overall-activity-history-legend-container"),r.prepareBarChartData(r.overallSearchBreakdownData.Current,r.overallSearchBreakdownData.Previous,r.overallSearchBreakdownData.Year),r.createBarChart("overall-search-history-chart-container","overall-search-history-legend-container"),r.prepareDoughnutChartData(r.applicationActivityData.Current["LASSI General"]),r.createDoughnutChart("lassi-activity-current-week-chart-container","lassi-activity-current-week-legend-container"),r.prepareDoughnutChartData(r.applicationSearchBreakdownData.Current["LASSI General"]),r.createDoughnutChart("lassi-search-current-week-chart-container","lassi-search-current-week-legend-container"),r.prepareBarChartData(r.applicationActivityData.Current["LASSI General"],r.applicationActivityData.Previous["LASSI General"],r.applicationActivityData.Year["LASSI General"]),r.createBarChart("lassi-activity-history-chart-container","lassi-activity-history-legend-container"),r.prepareBarChartData(r.applicationSearchBreakdownData.Current["LASSI General"],r.applicationSearchBreakdownData.Previous["LASSI General"],r.applicationSearchBreakdownData.Year["LASSI General"]),r.createBarChart("lassi-search-history-chart-container","lassi-search-history-legend-container"),r.prepareDoughnutChartData(r.applicationActivityData.Current["LASSI SPEAR Including Map Based Search"]),r.createDoughnutChart("spear-activity-current-week-chart-container","spear-activity-current-week-legend-container"),r.prepareDoughnutChartData(r.applicationSearchBreakdownData.Current["LASSI SPEAR Including Map Based Search"]),r.createDoughnutChart("spear-search-current-week-chart-container","spear-search-current-week-legend-container"),r.prepareBarChartData(r.applicationActivityData.Current["LASSI SPEAR Including Map Based Search"],r.applicationActivityData.Previous["LASSI SPEAR Including Map Based Search"],r.applicationActivityData.Year["LASSI SPEAR Including Map Based Search"]),r.createBarChart("spear-activity-history-chart-container","spear-activity-history-legend-container"),r.prepareBarChartData(r.applicationSearchBreakdownData.Current["LASSI SPEAR Including Map Based Search"],r.applicationSearchBreakdownData.Previous["LASSI SPEAR Including Map Based Search"],r.applicationSearchBreakdownData.Year["LASSI SPEAR Including Map Based Search"]),r.createBarChart("spear-search-history-chart-container","spear-search-history-legend-container"),r.prepareDoughnutChartData(r.applicationActivityData.Current.SMES),r.createDoughnutChart("smes-activity-current-week-chart-container","smes-activity-current-week-legend-container"),r.prepareDoughnutChartData(r.applicationSearchBreakdownData.Current.SMES),r.createDoughnutChart("smes-search-current-week-chart-container","smes-search-current-week-legend-container"),r.prepareBarChartData(r.applicationActivityData.Current.SMES,r.applicationActivityData.Previous.SMES,r.applicationActivityData.Year.SMES),r.createBarChart("smes-activity-history-chart-container","smes-activity-history-legend-container"),r.prepareBarChartData(r.applicationSearchBreakdownData.Current.SMES,r.applicationSearchBreakdownData.Previous.SMES,r.applicationSearchBreakdownData.Year.SMES),r.createBarChart("smes-search-history-chart-container","smes-search-history-legend-container"),r.prepareDoughnutChartData(r.applicationActivityData.Current.VICNAMES),r.createDoughnutChart("vicnames-activity-current-week-chart-container","vicnames-activity-current-week-legend-container"),r.prepareDoughnutChartData(r.applicationSearchBreakdownData.Current.VICNAMES),r.createDoughnutChart("vicnames-search-current-week-chart-container","vicnames-search-current-week-legend-container"),r.prepareBarChartData(r.applicationActivityData.Current.VICNAMES,r.applicationActivityData.Previous.VICNAMES,r.applicationActivityData.Year.VICNAMES),r.createBarChart("vicnames-activity-history-chart-container","vicnames-activity-history-legend-container"),r.prepareBarChartData(r.applicationSearchBreakdownData.Current.VICNAMES,r.applicationSearchBreakdownData.Previous.VICNAMES,r.applicationSearchBreakdownData.Year.VICNAMES),r.createBarChart("vicnames-search-history-chart-container","vicnames-search-history-legend-container"),r.prepareDoughnutChartData(r.applicationActivityData.Current["View My Titles"]),r.createDoughnutChart("vmt-activity-current-week-chart-container","vmt-activity-current-week-legend-container"),r.prepareDoughnutChartData(r.applicationSearchBreakdownData.Current["View My Titles"]),r.createDoughnutChart("vmt-search-current-week-chart-container","vmt-search-current-week-legend-container"),r.prepareBarChartData(r.applicationActivityData.Current["View My Titles"],r.applicationActivityData.Previous["View My Titles"],r.applicationActivityData.Year["View My Titles"]),r.createBarChart("vmt-activity-history-chart-container","vmt-activity-history-legend-container"),r.prepareBarChartData(r.applicationSearchBreakdownData.Current["View My Titles"],r.applicationSearchBreakdownData.Previous["View My Titles"],r.applicationSearchBreakdownData.Year["View My Titles"]),r.createBarChart("vmt-search-history-chart-container","vmt-search-history-legend-container"),r.prepareDoughnutChartData(r.applicationActivityData.Current["Historical Aerial Photographs"]),r.createDoughnutChart("hap-activity-current-week-chart-container","hap-activity-current-week-legend-container"),r.prepareDoughnutChartData(r.applicationSearchBreakdownData.Current["Historical Aerial Photographs"]),r.createDoughnutChart("hap-search-current-week-chart-container","hap-search-current-week-legend-container"),r.prepareBarChartData(r.applicationActivityData.Current["Historical Aerial Photographs"],r.applicationActivityData.Previous["Historical Aerial Photographs"],r.applicationActivityData.Year["Historical Aerial Photographs"]),r.createBarChart("hap-activity-history-chart-container","hap-activity-history-legend-container"),r.prepareBarChartData(r.applicationSearchBreakdownData.Current["Historical Aerial Photographs"],r.applicationSearchBreakdownData.Previous["Historical Aerial Photographs"],r.applicationSearchBreakdownData.Year["Historical Aerial Photographs"]),r.createBarChart("hap-search-history-chart-container","hap-search-history-legend-container"),r.prepareDoughnutChartData(r.applicationActivityData.Current["TPI Confirm on Map"]),r.createDoughnutChart("tcom-activity-current-week-chart-container","tcom-activity-current-week-legend-container"),r.prepareBarChartData(r.applicationActivityData.Current["TPI Confirm on Map"],r.applicationActivityData.Previous["TPI Confirm on Map"],r.applicationActivityData.Year["TPI Confirm on Map"]),r.createBarChart("tcom-activity-history-chart-container","tcom-activity-history-legend-container")}).then(function(){hideLoadingBar()}).catch(function(e){console.log(e.message),hideLoadingBar()})}function renderEventBarCharts(e,t,a){showLoadingBar();var r=new ActivityData(e,t,a,"Current");return r.gaDimensions="ga:eventCategory,ga:eventLabel",r.gaMetrics="ga:totalEvents",r.retrieveAndParseGAData().then(function(){return r.prepareBarChartData(r.overallActivityData.Current,r.overallActivityData.Previous,r.overallActivityData.Year),r.createBarChart("overall-activity-previous-week-chart-container","overall-activity-previous-week-legend-container"),r.delayExecution()}).then(function(){return r.prepareBarChartData(r.overallSearchBreakdownData.Current,r.overallSearchBreakdownData.Previous,r.overallSearchBreakdownData.Year),r.createBarChart("overall-search-previous-week-chart-container","overall-search-previous-week-legend-container"),r.delayExecution()}).then(function(){return r.prepareBarChartData(r.overallActivityData.Current,r.overallActivityData.Previous,r.overallActivityData.Year),r.createBarChart("overall-activity-last-year-chart-container","overall-activity-last-year-legend-container"),r.delayExecution()}).then(function(){return r.prepareBarChartData(r.overallSearchBreakdownData.Current,r.overallSearchBreakdownData.Previous,r.overallSearchBreakdownData.Year),r.createBarChart("overall-search-last-year-chart-container","overall-search-last-year-legend-container"),r.delayExecution()}).then(function(){hideLoadingBar()}).catch(function(e){console.log(e.message),hideLoadingBar()})}