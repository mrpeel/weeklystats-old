function showLoadingBar(){document.getElementById("load-bar").className="loader"}function hideLoadingBar(){document.getElementById("load-bar").className="loader-hidden"}function renderCharts(e,a,r){return showLoadingBar(),renderWeekOverWeekSessions(e,a,r).then(function(){return renderYearOverYearSessions(e,a,r)}).then(function(){return renderWeekOverWeekSessionDuration(e,a,r)}).then(function(){return renderYearOverYearSessionDuration(e,a,r)}).then(function(){return renderWeekContentUsage(e,a,r)}).then(function(t){return renderQuarterlyContentUsage(e,a,r,t)}).then(function(){return renderWeekBrowserUsage(e,a,r)}).then(function(t){return renderQuarterlyBrowserUsage(e,a,r,t)}).then(function(){return renderWeekIEUsage(e,a,r)}).then(function(t){return renderQuarterlyIEUsage(e,a,r,t)}).then(function(){return renderWeekFirefoxUsage(e,a,r)}).then(function(t){return renderQuarterlyFirefoxUsage(e,a,r,t)}).then(function(){return renderEventCharts(e,a,r)}).then(function(){hideLoadingBar()}).catch(function(e){console.log(e.message),hideLoadingBar()})}function renderWeekOverWeekSessions(e,a,r){var t=new WeekToPreviousWeekChart(e,a,r);return t.gaLastYearDimensions="ga:dayOfWeek,ga:year,ga:nthWeek",t.gaDimensions="ga:date,ga:nthDay",t.gaMetrics="ga:sessions",t.gaFilters="ga:sessions>0",t.gaSort="ga:dayOfWeek,-ga:sessions",t.retrieveGAData().then(function(){return t.setUpChartData(),t.createLineChart("weekly-session-chart-container","weekly-session-legend-container"),t.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderYearOverYearSessions(e,a,r){var t=new YearToPreviousYearChart(e,a,r);return t.gaDimensions="ga:month,ga:nthMonth",t.gaMetrics="ga:sessions",t.retrieveGAData().then(function(){return t.setUpChartData(),t.createBarChart("monthly-session-chart-container","monthly-session-legend-container"),t.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekOverWeekSessionDuration(e,a,r){var t=new WeekToPreviousWeekChart(e,a,r);return t.gaDimensions="ga:date,ga:nthDay",t.gaLastYearDimensions="ga:dayOfWeek,ga:year,ga:nthWeek",t.gaMetrics="ga:avgSessionDuration",t.gaFilters="ga:avgSessionDuration>0",t.gaSort="ga:dayOfWeek,-ga:avgSessionDuration",t.retrieveGAData().then(function(){var a=[];return t.lastYearData.forEach(function(e){a.push((e/60).toFixed(2))}),t.lastYearData=a,a=[],t.previousWeekData.forEach(function(e){a.push((e/60).toFixed(2))}),t.previousWeekData=a,a=[],t.currentWeekData.forEach(function(e){a.push((e/60).toFixed(2))}),t.currentWeekData=a,!0}).then(function(){return t.setUpChartData(),t.createLineChart("weekly-session-duration-chart-container","weekly-session-duration-legend-container"),t.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderYearOverYearSessionDuration(e,a,r){var t=new YearToPreviousYearChart(e,a,r);return t.gaDimensions="ga:month,ga:nthMonth",t.gaMetrics="ga:avgSessionDuration",t.retrieveGAData().then(function(){var a=[];return t.currentYearData.forEach(function(e){a.push((e/60).toFixed(2))}),t.currentYearData=a,a=[],t.previousYearData.forEach(function(e){a.push((e/60).toFixed(2))}),t.previousYearData=a,!0}).then(function(){return t.setUpChartData(),t.createBarChart("monthly-session-duration-chart-container","monthly-session-duration-legend-container"),t.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekContentUsage(e,a,r){var t=new WeekDoughnutChart(e,a,r);return t.gaDimensions="ga:pageTitle",t.gaMetrics="ga:pageviews",t.gaFilters="ga:pageTitle!=Redirect;ga:pageviews>10",t.gaSort="-ga:pageviews",t.retrieveAndSetUpGAData().then(function(){return t.createDoughnutChart("weekly-content-chart-container","weekly-content-legend-container"),t.delayExecution()}).then(function(){return t.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyContentUsage(e,a,r,t){var n=new QuarterlyChart(e,a,r,"pageTitle",t);return n.gaDimensions="ga:pageTitle",n.gaMetrics="ga:pageviews",n.gaFilters="ga:pageTitle!=Redirect;ga:pageviews>10",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-content-chart-container","quarterly-content-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekBrowserUsage(e,a,r){var t=new WeekDoughnutChart(e,a,r);return t.gaDimensions="ga:browser",t.gaMetrics="ga:pageviews",t.gaSort="-ga:pageviews",t.retrieveAndSetUpGAData().then(function(){return t.createDoughnutChart("weekly-browser-chart-container","weekly-browser-legend-container"),t.delayExecution()}).then(function(){return t.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyBrowserUsage(e,a,r,t){var n=new QuarterlyChart(e,a,r,"browser",t);return n.gaDimensions="ga:browser",n.gaMetrics="ga:pageviews",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-browser-chart-container","quarterly-browser-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekIEUsage(e,a,r){var t=new WeekDoughnutChart(e,a,r);return t.gaDimensions="ga:browserVersion",t.gaMetrics="ga:pageviews",t.gaFilters="ga:browser==Internet Explorer",t.gaSort="-ga:pageviews",t.retrieveAndSetUpGAData().then(function(){return t.createDoughnutChart("weekly-ieversion-chart-container","weekly-ieversion-legend-container"),t.delayExecution()}).then(function(){return t.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyIEUsage(e,a,r,t){var n=new QuarterlyChart(e,a,r,"browserVersion",t);return n.gaDimensions="ga:browserVersion",n.gaMetrics="ga:pageviews",n.gaFilters="ga:browser==Internet Explorer",n.queryPrefix="ga:browser==Internet Explorer;",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-ieversion-chart-container","quarterly-ieversion-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderWeekFirefoxUsage(e,a,r){var t=new WeekDoughnutChart(e,a,r);return t.gaDimensions="ga:browserVersion",t.gaMetrics="ga:pageviews",t.gaFilters="ga:browser==Firefox",t.gaSort="-ga:pageviews",t.retrieveAndSetUpGAData().then(function(){return t.createDoughnutChart("weekly-firefoxversion-chart-container","weekly-firefoxversion-legend-container"),t.delayExecution()}).then(function(){return t.topFiveData}).catch(function(e){console.log(e.message)})}function renderQuarterlyFirefoxUsage(e,a,r,t){var n=new QuarterlyChart(e,a,r,"browserVersion",t);return n.gaDimensions="ga:browserVersion",n.gaMetrics="ga:pageviews",n.gaFilters="ga:browser==Firefox",n.queryPrefix="ga:browser==Firefox;",n.retrieveTopFive().then(function(){return n.buildQueryAndLabels(),n.delayExecution()}).then(function(){return n.retrieveGAData()}).then(function(){return n.setUpChartData(),n.createLineChart("quarterly-firefoxversion-chart-container","quarterly-firefoxversion-legend-container"),n.delayExecution()}).then(function(){return!0}).catch(function(e){console.log(e.message)})}function renderEventCharts(e,a,r){showLoadingBar();var t=new ActivityData(e,a,r);return t.gaDimensions="ga:eventCategory,ga:eventLabel",t.gaMetrics="ga:totalEvents",t.retrieveAndParseGAData().then(function(){t.prepareDoughnutChartData(t.overallActivityData.Current),t.createDoughnutChart("overall-activity-current-week-chart-container","overall-activity-current-week-legend-container"),t.prepareDoughnutChartData(t.overallSearchBreakdownData.Current),t.createDoughnutChart("overall-search-current-week-chart-container","overall-search-current-week-legend-container"),t.prepareBarChartData(t.overallActivityData.Current,t.overallActivityData.Previous,t.overallActivityData.Year),t.createBarChart("overall-activity-history-chart-container","overall-activity-history-legend-container"),t.prepareBarChartData(t.overallSearchBreakdownData.Current,t.overallSearchBreakdownData.Previous,t.overallSearchBreakdownData.Year),t.createBarChart("overall-search-history-chart-container","overall-search-history-legend-container"),t.prepareDoughnutChartData(t.applicationActivityData.Current["LASSI General"]),t.createDoughnutChart("lassi-activity-current-week-chart-container","lassi-activity-current-week-legend-container"),t.prepareDoughnutChartData(t.applicationSearchBreakdownData.Current["LASSI General"]),t.createDoughnutChart("lassi-search-current-week-chart-container","lassi-search-current-week-legend-container"),t.prepareBarChartData(t.applicationActivityData.Current["LASSI General"],t.applicationActivityData.Previous["LASSI General"],t.applicationActivityData.Year["LASSI General"]),t.createBarChart("lassi-activity-history-chart-container","lassi-activity-history-legend-container"),t.prepareBarChartData(t.applicationSearchBreakdownData.Current["LASSI General"],t.applicationSearchBreakdownData.Previous["LASSI General"],t.applicationSearchBreakdownData.Year["LASSI General"]),t.createBarChart("lassi-search-history-chart-container","lassi-search-history-legend-container"),t.prepareDoughnutChartData(t.applicationActivityData.Current["LASSI SPEAR Including Map Based Search"]),t.createDoughnutChart("spear-activity-current-week-chart-container","spear-activity-current-week-legend-container"),t.prepareDoughnutChartData(t.applicationSearchBreakdownData.Current["LASSI SPEAR Including Map Based Search"]),t.createDoughnutChart("spear-search-current-week-chart-container","spear-search-current-week-legend-container"),t.prepareBarChartData(t.applicationActivityData.Current["LASSI SPEAR Including Map Based Search"],t.applicationActivityData.Previous["LASSI SPEAR Including Map Based Search"],t.applicationActivityData.Year["LASSI SPEAR Including Map Based Search"]),t.createBarChart("spear-activity-history-chart-container","spear-activity-history-legend-container"),t.prepareBarChartData(t.applicationSearchBreakdownData.Current["LASSI SPEAR Including Map Based Search"],t.applicationSearchBreakdownData.Previous["LASSI SPEAR Including Map Based Search"],t.applicationSearchBreakdownData.Year["LASSI SPEAR Including Map Based Search"]),t.createBarChart("spear-search-history-chart-container","spear-search-history-legend-container"),t.prepareDoughnutChartData(t.applicationActivityData.Current.SMES),t.createDoughnutChart("smes-activity-current-week-chart-container","smes-activity-current-week-legend-container"),t.prepareDoughnutChartData(t.applicationSearchBreakdownData.Current.SMES),t.createDoughnutChart("smes-search-current-week-chart-container","smes-search-current-week-legend-container"),t.prepareBarChartData(t.applicationActivityData.Current.SMES,t.applicationActivityData.Previous.SMES,t.applicationActivityData.Year.SMES),t.createBarChart("smes-activity-history-chart-container","smes-activity-history-legend-container"),t.prepareBarChartData(t.applicationSearchBreakdownData.Current.SMES,t.applicationSearchBreakdownData.Previous.SMES,t.applicationSearchBreakdownData.Year.SMES),t.createBarChart("smes-search-history-chart-container","smes-search-history-legend-container"),t.prepareDoughnutChartData(t.applicationActivityData.Current.VICNAMES),t.createDoughnutChart("vicnames-activity-current-week-chart-container","vicnames-activity-current-week-legend-container"),t.prepareDoughnutChartData(t.applicationSearchBreakdownData.Current.VICNAMES),t.createDoughnutChart("vicnames-search-current-week-chart-container","vicnames-search-current-week-legend-container"),t.prepareBarChartData(t.applicationActivityData.Current.VICNAMES,t.applicationActivityData.Previous.VICNAMES,t.applicationActivityData.Year.VICNAMES),t.createBarChart("vicnames-activity-history-chart-container","vicnames-activity-history-legend-container"),t.prepareBarChartData(t.applicationSearchBreakdownData.Current.VICNAMES,t.applicationSearchBreakdownData.Previous.VICNAMES,t.applicationSearchBreakdownData.Year.VICNAMES),t.createBarChart("vicnames-search-history-chart-container","vicnames-search-history-legend-container"),t.prepareDoughnutChartData(t.applicationActivityData.Current["View My Titles"]),t.createDoughnutChart("vmt-activity-current-week-chart-container","vmt-activity-current-week-legend-container"),t.prepareDoughnutChartData(t.applicationSearchBreakdownData.Current["View My Titles"]),t.createDoughnutChart("vmt-search-current-week-chart-container","vmt-search-current-week-legend-container"),t.prepareBarChartData(t.applicationActivityData.Current["View My Titles"],t.applicationActivityData.Previous["View My Titles"],t.applicationActivityData.Year["View My Titles"]),t.createBarChart("vmt-activity-history-chart-container","vmt-activity-history-legend-container"),t.prepareBarChartData(t.applicationSearchBreakdownData.Current["View My Titles"],t.applicationSearchBreakdownData.Previous["View My Titles"],t.applicationSearchBreakdownData.Year["View My Titles"]),t.createBarChart("vmt-search-history-chart-container","vmt-search-history-legend-container"),t.prepareDoughnutChartData(t.applicationActivityData.Current["Historical Aerial Photographs"]),t.createDoughnutChart("hap-activity-current-week-chart-container","hap-activity-current-week-legend-container"),t.prepareDoughnutChartData(t.applicationSearchBreakdownData.Current["Historical Aerial Photographs"]),t.createDoughnutChart("hap-search-current-week-chart-container","hap-search-current-week-legend-container"),t.prepareBarChartData(t.applicationActivityData.Current["Historical Aerial Photographs"],t.applicationActivityData.Previous["Historical Aerial Photographs"],t.applicationActivityData.Year["Historical Aerial Photographs"]),t.createBarChart("hap-activity-history-chart-container","hap-activity-history-legend-container"),t.prepareBarChartData(t.applicationSearchBreakdownData.Current["Historical Aerial Photographs"],t.applicationSearchBreakdownData.Previous["Historical Aerial Photographs"],t.applicationSearchBreakdownData.Year["Historical Aerial Photographs"]),t.createBarChart("hap-search-history-chart-container","hap-search-history-legend-container"),t.prepareDoughnutChartData(t.applicationActivityData.Current["TPI Confirm on Map"]),t.createDoughnutChart("tcom-activity-current-week-chart-container","tcom-activity-current-week-legend-container"),t.prepareBarChartData(t.applicationActivityData.Current["TPI Confirm on Map"],t.applicationActivityData.Previous["TPI Confirm on Map"],t.applicationActivityData.Year["TPI Confirm on Map"]),t.createBarChart("tcom-activity-history-chart-container","tcom-activity-history-legend-container")}).then(function(){hideLoadingBar()}).catch(function(e){console.log(e.message),hideLoadingBar()})}function renderEventBarCharts(e,a,r){showLoadingBar();var t=new ActivityData(e,a,r,"Current");return t.gaDimensions="ga:eventCategory,ga:eventLabel",t.gaMetrics="ga:totalEvents",t.retrieveAndParseGAData().then(function(){return t.prepareBarChartData(t.overallActivityData.Current,t.overallActivityData.Previous,t.overallActivityData.Year),t.createBarChart("overall-activity-previous-week-chart-container","overall-activity-previous-week-legend-container"),t.delayExecution()}).then(function(){return t.prepareBarChartData(t.overallSearchBreakdownData.Current,t.overallSearchBreakdownData.Previous,t.overallSearchBreakdownData.Year),t.createBarChart("overall-search-previous-week-chart-container","overall-search-previous-week-legend-container"),t.delayExecution()}).then(function(){return t.prepareBarChartData(t.overallActivityData.Current,t.overallActivityData.Previous,t.overallActivityData.Year),t.createBarChart("overall-activity-last-year-chart-container","overall-activity-last-year-legend-container"),t.delayExecution()}).then(function(){return t.prepareBarChartData(t.overallSearchBreakdownData.Current,t.overallSearchBreakdownData.Previous,t.overallSearchBreakdownData.Year),t.createBarChart("overall-search-last-year-chart-container","overall-search-last-year-legend-container"),t.delayExecution()}).then(function(){hideLoadingBar()}).catch(function(e){console.log(e.message),hideLoadingBar()})}